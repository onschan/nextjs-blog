---
title: React Server Components (RSC)
date: "2025-04-24"
description: RSCμ κ°λ…, SSRκ³Όμ μ°¨μ΄μ , μ‹¤μ  κµ¬ν„ λ°©λ²•μ„ ν•™μµν•λ©° μ •λ¦¬ν• λ‚΄μ©
thumbnail:
tags: ["React", "Server Components", "RSC", "Next.js"]
---

React Server Components(RSC)μ— λ€ν•΄ ν•™μµν•λ©° μ •λ¦¬ν• λ‚΄μ©μ…λ‹λ‹¤. RSCμ μ •ν™•ν• μ •μλ¶€ν„° κΈ°μ΅΄ λ°©μ‹κ³Όμ μ°¨μ΄μ , μ‹¤μ  κµ¬ν„ μμ‹κΉμ§€ ν¬ν•¨ν–μµλ‹λ‹¤.

## React Server Componentsμ μ •μ

**React Server Components(RSC)λ” μ„λ²„μ—μ„ μ‹¤ν–‰λλ” React μ»΄ν¬λ„νΈμ…λ‹λ‹¤.** 

κΈ°μ΅΄ React μ»΄ν¬λ„νΈμ™€ λ™μΌν•κ² JSXλ¥Ό μ‘μ„±ν•μ§€λ§, μ„λ²„μ—μ„λ§ μ‹¤ν–‰λκ³  λΈλΌμ°μ €λ΅λ” κ²°κ³Όλ§ μ „μ†΅λ©λ‹λ‹¤.

```jsx
// RSC μμ‹
async function BlogPost({ id }) {
  // μ΄ μ½”λ“λ” μ„λ²„μ—μ„λ§ μ‹¤ν–‰λ¨
  const post = await db.post.findUnique({ where: { id } });
  
  return (
    <article>
      <h1>{post.title}</h1>
      <p>{post.content}</p>
    </article>
  );
}
```

μ„ μ»΄ν¬λ„νΈμ—μ„ `db.post.findUnique` κ°™μ€ λ°μ΄ν„°λ² μ΄μ¤ νΈμ¶ μ½”λ“λ” λΈλΌμ°μ €λ΅ μ „μ†΅λμ§€ μ•μµλ‹λ‹¤. λ λ”λ§ κ²°κ³Όλ§ λΈλΌμ°μ €λ΅ μ „λ‹¬λ©λ‹λ‹¤.

## κΈ°μ΅΄ React λ°©μ‹μ λ¬Έμ μ 

κΈ°μ΅΄ React μ• ν”λ¦¬μΌ€μ΄μ…μ—μ„ μ‚¬μ©ν•λ μΌλ°μ μΈ ν¨ν„΄μ€ λ‹¤μκ³Ό κ°™μµλ‹λ‹¤:

```jsx
// κΈ°μ΅΄ λ°©μ‹: ν΄λΌμ΄μ–ΈνΈμ—μ„ λ°μ΄ν„° νμΉ­
function BlogPost({ id }) {
  const [post, setPost] = useState(null);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    // 1. νμ΄μ§€ λ΅λ“ ν›„ API νΈμ¶
    fetch(`/api/posts/${id}`)
      .then(res => res.json())
      .then(post => {
        setPost(post);
        setLoading(false);
      });
  }, [id]);

  if (loading) return <div>λ΅λ”©μ¤‘...</div>;
  
  return (
    <article>
      <h1>{post.title}</h1>
      <p>{post.content}</p>
    </article>
  );
}
```

μ΄ λ°©μ‹μ μ£Όμ” λ¬Έμ μ λ“¤:
- **λ΅λ”© μ§€μ—°**: νμ΄μ§€ λ΅λ“ ν›„ μ¶”κ°€ API νΈμ¶ ν•„μ”
- **API μ—”λ“ν¬μΈνΈ μ¦κ°€**: `/api/posts/${id}` κ°™μ€ μ¤‘κ°„ λ μ΄μ–΄ ν•„μ”  
- **λ³΄μ• μ·¨μ•½μ **: ν΄λΌμ΄μ–ΈνΈ μ½”λ“μ— λ―Όκ°ν• μ •λ³΄ λ…Έμ¶ μ„ν—
- **λ²λ“¤ ν¬κΈ° μ¦κ°€**: λ°μ΄ν„° μ²λ¦¬μ© λΌμ΄λΈλ¬λ¦¬κΉμ§€ ν΄λΌμ΄μ–ΈνΈλ΅ μ „μ†΅

RSCλ” μ΄λ¬ν• λ¬Έμ μ λ“¤μ„ ν•΄κ²°ν•©λ‹λ‹¤.

## SSRκ³Ό RSCμ μ°¨μ΄μ 

SSR(Server-Side Rendering)κ³Ό RSCλ” μ„λ΅ λ‹¤λ¥Έ κ°λ…μ…λ‹λ‹¤.

### SSR (Server-Side Rendering)

```jsx
// SSR: μ„λ²„μ—μ„ HTML λ¬Έμμ—΄ μƒμ„±
function BlogPost({ post }) {
  return <h1>{post.title}</h1>;
}

// μ„λ²„μ—μ„ μ΄λ ‡κ² λ¨:
// "<h1>μ λ©μ…λ‹λ‹¤</h1>" (HTML λ¬Έμμ—΄)
```

- μ„λ²„μ—μ„ μ»΄ν¬λ„νΈλ¥Ό HTML λ¬Έμμ—΄λ΅ λ³€ν™
- ν΄λΌμ΄μ–ΈνΈμ—μ„ **hydration** κ³Όμ •μ„ ν†µν•΄ μƒνΈμ‘μ© κ°€λ¥ν•κ² λ§λ“¦
- μ—¬μ „ν λ¨λ“  μ»΄ν¬λ„νΈ μ½”λ“κ°€ ν΄λΌμ΄μ–ΈνΈλ΅ μ „μ†΅λ¨

### RSC (React Server Components)

```jsx
// RSC: μ„λ²„μ—μ„ RSC Payload μƒμ„±
async function BlogPost({ id }) {
  const post = await db.post.findUnique({ where: { id } });
  return <h1>{post.title}</h1>;
}

// μ„λ²„μ—μ„ μ΄λ ‡κ² λ¨:
// { type: "h1", props: { children: "μ λ©μ…λ‹λ‹¤" } } (RSC Payload)
```

- μ„λ²„μ—μ„ μ»΄ν¬λ„νΈλ¥Ό **RSC Payload**λΌλ” νΉμν• JSONμΌλ΅ λ³€ν™
- ν΄λΌμ΄μ–ΈνΈμ—μ„ μ΄ JSONμ„ λ°›μ•„ Virtual DOM κµ¬μ„±
- **μ„λ²„ μ»΄ν¬λ„νΈ μ½”λ“λ” ν΄λΌμ΄μ–ΈνΈλ΅ μ „μ†΅λμ§€ μ•μ**

ν•µμ‹¬ μ°¨μ΄μ : **SSRμ€ HTML λ¬Έμμ—΄μ„ μƒμ„±ν•κ³ , RSCλ” JSON λ°μ΄ν„°λ¥Ό μƒμ„±ν•©λ‹λ‹¤.**

## RSC Payloadμ κ°λ…

RSC Payloadλ” μ„λ²„ μ»΄ν¬λ„νΈλ¥Ό μ§λ ¬ν™”ν• JSON λ°μ΄ν„°μ…λ‹λ‹¤.

```jsx
// μ„λ²„ μ»΄ν¬λ„νΈ
function UserProfile({ user }) {
  return (
    <div>
      <h1>{user.name}</h1>
      <p>{user.email}</p>
      <ClientButton userId={user.id} />
    </div>
  );
}
```

μ΄κ²ƒμ΄ RSC Payloadλ΅ λ³€ν™λλ©΄ λ‹¤μκ³Ό κ°™μµλ‹λ‹¤:

```json
{
  "type": "div",
  "props": {
    "children": [
      {
        "type": "h1", 
        "props": { "children": "ν™κΈΈλ™" }
      },
      {
        "type": "p",
        "props": { "children": "hong@example.com" }
      },
      {
        "type": "ClientButton",
        "props": { "userId": 123 }
      }
    ]
  }
}
```

ν΄λΌμ΄μ–ΈνΈμ—μ„λ” μ΄ JSONμ„ μ²λ¦¬ν•λ” κ³Όμ •:
1. Virtual DOM νΈλ¦¬λ΅ λ³€ν™
2. ν•„μ”ν• ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ§ λ΅λ“ (μ„ μμ‹μ—μ„λ” `ClientButton`)
3. μµμΆ… DOM μ—…λ°μ΄νΈ

## RSC μ μ© μ „ν›„ λΉ„κµ

κΈ°μ΅΄ λ°©μ‹κ³Ό RSC λ°©μ‹μ„ λΉ„κµν•λ©΄ λ‹¤μκ³Ό κ°™μµλ‹λ‹¤.

### Before: κΈ°μ΅΄ React λ°©μ‹

```jsx
// pages/blog/[id].js (κΈ°μ΅΄ λ°©μ‹)
import { useState, useEffect } from 'react';
import { marked } from 'marked'; // 50KB λΌμ΄λΈλ¬λ¦¬
import hljs from 'highlight.js'; // 100KB λΌμ΄λΈλ¬λ¦¬

function BlogPost({ id }) {
  const [post, setPost] = useState(null);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    // 1. API νΈμ¶
    fetch(`/api/posts/${id}`)
      .then(res => res.json())
      .then(post => {
        setPost(post);
        setLoading(false);
      });
  }, [id]);

  if (loading) return <div>λ΅λ”©μ¤‘...</div>;

  // 2. ν΄λΌμ΄μ–ΈνΈμ—μ„ λ§ν¬λ‹¤μ΄ νμ‹± (λΌμ΄λΈλ¬λ¦¬λ“¤μ΄ λ¨λ‘ λ²λ“¤μ— ν¬ν•¨)
  const htmlContent = marked(post.content);
  
  return (
    <article>
      <h1>{post.title}</h1>
      <div dangerouslySetInnerHTML={{ __html: htmlContent }} />
    </article>
  );
}
```

**μ£Όμ” λ¬Έμ μ :**
- μ΄κΈ° λ΅λ”© μ‹ λΉ ν™”λ©΄ ν‘μ‹
- λ§ν¬λ‹¤μ΄ νμ„κ°€ ν΄λΌμ΄μ–ΈνΈ λ²λ“¤μ— ν¬ν•¨
- API λΌμ°νΈ λ³„λ„ κµ¬ν„ ν•„μ”
- λ΅λ”© μƒνƒ κ΄€λ¦¬ λ΅μ§ ν•„μ”

### After: RSC λ°©μ‹

```jsx
// app/blog/[id]/page.js (RSC λ°©μ‹)
import { marked } from 'marked'; // ν΄λΌμ΄μ–ΈνΈ λ²λ“¤μ— ν¬ν•¨ μ•λ¨!
import hljs from 'highlight.js'; // ν΄λΌμ΄μ–ΈνΈ λ²λ“¤μ— ν¬ν•¨ μ•λ¨!

async function BlogPost({ params }) {
  // 1. μ„λ²„μ—μ„ μ§μ ‘ λ°μ΄ν„°λ² μ΄μ¤ μ ‘κ·Ό
  const post = await db.post.findUnique({ 
    where: { id: params.id } 
  });

  // 2. μ„λ²„μ—μ„ λ§ν¬λ‹¤μ΄ νμ‹± (ν΄λΌμ΄μ–ΈνΈ λ²λ“¤μ— μν–¥ μ—†μ)
  const htmlContent = marked(post.content);
  
  return (
    <article>
      <h1>{post.title}</h1>
      <div dangerouslySetInnerHTML={{ __html: htmlContent }} />
    </article>
  );
}
```

**μ£Όμ” κ°μ„ μ :**
- νμ΄μ§€ μ ‘μ†κ³Ό λ™μ‹μ— μ™„μ„±λ μ½ν…μΈ  ν‘μ‹
- λ§ν¬λ‹¤μ΄ νμ„κ°€ ν΄λΌμ΄μ–ΈνΈ λ²λ“¤μ—μ„ μ μ™Έ (λ²λ“¤ μ‚¬μ΄μ¦ μ μ•½)
- API λΌμ°νΈ λ¶ν•„μ”
- λ΅λ”© μƒνƒ κ΄€λ¦¬ λ¶ν•„μ”
- λ°μ΄ν„°λ² μ΄μ¤ μ§μ ‘ μ ‘κ·Ό κ°€λ¥

## μ„λ²„/ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ μ΅°ν•©

RSCμ ν•µμ‹¬ μ¥μ μ€ μ„λ²„ μ»΄ν¬λ„νΈμ™€ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ¥Ό μ΅°ν•©ν•  λ• λ‚νƒ€λ‚©λ‹λ‹¤:

```jsx
// μ„λ²„ μ»΄ν¬λ„νΈ
async function BlogPost({ id }) {
  const post = await db.post.findUnique({ where: { id } });
  
  return (
    <article>
      <h1>{post.title}</h1>
      <p>{post.content}</p>
      
      {/* ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ: μƒνΈμ‘μ©μ΄ ν•„μ”ν• λ¶€λ¶„λ§ */}
      <LikeButton postId={id} initialLikes={post.likes} />
      <CommentSection postId={id} />
    </article>
  );
}

// ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ (λ³„λ„ νμΌ)
'use client'
import { useState } from 'react';

function LikeButton({ postId, initialLikes }) {
  const [likes, setLikes] = useState(initialLikes);
  const [loading, setLoading] = useState(false);

  const handleLike = async () => {
    setLoading(true);
    await fetch(`/api/posts/${postId}/like`, { method: 'POST' });
    setLikes(likes + 1);
    setLoading(false);
  };

  return (
    <button onClick={handleLike} disabled={loading}>
      π‘ {likes} {loading && '...'}
    </button>
  );
}
```

μ΄ κµ¬μ΅°μ μ¥μ :
- κΈ€ λ‚΄μ©μ€ μ„λ²„μ—μ„ λ―Έλ¦¬ λ λ”λ§λμ–΄ μ¦‰μ‹ ν‘μ‹
- μΆ‹μ•„μ” λ²„νΌλ§ ν΄λΌμ΄μ–ΈνΈμ—μ„ μƒνΈμ‘μ© μ²λ¦¬
- μ „μ²΄ νμ΄μ§€ μ¤‘ ν•„μ”ν• λ¶€λ¶„λ§ JavaScriptλ΅ λ΅λ“

## Next.js App Routerμ—μ„μ RSC

Next.js 13μ App Routerλ¶€ν„° RSCκ°€ κΈ°λ³Έ μ„¤μ •μ…λ‹λ‹¤.

### κΈ°λ³Έ κ·μΉ™

```jsx
// app/page.js - κΈ°λ³Έμ μΌλ΅ μ„λ²„ μ»΄ν¬λ„νΈ
async function HomePage() {
  const posts = await db.post.findMany();
  return (
    <div>
      {posts.map(post => (
        <PostCard key={post.id} post={post} />
      ))}
    </div>
  );
}

// app/components/PostCard.js - μ΄κ²ƒλ„ μ„λ²„ μ»΄ν¬λ„νΈ
function PostCard({ post }) {
  return (
    <div>
      <h2>{post.title}</h2>
      <p>{post.excerpt}</p>
    </div>
  );
}

// app/components/LikeButton.js - ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ (μƒνΈμ‘μ© ν•„μ”)
'use client'
import { useState } from 'react';

function LikeButton({ postId }) {
  const [liked, setLiked] = useState(false);
  return (
    <button onClick={() => setLiked(!liked)}>
      {liked ? 'β¤οΈ' : 'π¤'}
    </button>
  );
}
```

### μ„λ²„/ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ κµ¬λ¶„ κΈ°μ¤€

**μ„λ²„ μ»΄ν¬λ„νΈ (κΈ°λ³Έ):**
- λ°μ΄ν„° νμΉ­
- μ •μ  μ½ν…μΈ  λ λ”λ§
- λ―Όκ°ν• λ΅μ§ μ²λ¦¬

**ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ ('use client'):**
- `useState`, `useEffect` λ“± React Hook μ‚¬μ©
- μ΄λ²¤νΈ ν•Έλ“¤λ¬ (`onClick`, `onChange`)
- λΈλΌμ°μ € API μ‚¬μ© (`localStorage`, `window`)

### RSC λ“±μ¥ λ°°κ²½

React ν€μ΄ RSCλ¥Ό κ°λ°ν• λ°°κ²½μ—λ” λ‹¤μκ³Ό κ°™μ€ λ¬Έμ λ“¤μ΄ μμ—μµλ‹λ‹¤.

**1. λ²λ“¤ ν¬κΈ°μ ν•κ³„**

λ¨λ μ›Ή μ•±μ΄ λ³µμ΅ν•΄μ§€λ©΄μ„ JavaScript λ²λ“¤ ν¬κΈ°κ°€ μ§€μ†μ μΌλ΅ μ¦κ°€ν–μµλ‹λ‹¤. λ§ν¬λ‹¤μ΄ νμ„, μ°¨νΈ λΌμ΄λΈλ¬λ¦¬, μ΄λ―Έμ§€ μ²λ¦¬ λ„κµ¬ λ“±μ„ μ¶”κ°€ν•  λ•λ§λ‹¤ λ²λ“¤μ΄ μ»¤μ Έμ„ μ΄κΈ° λ΅λ”© μ†λ„κ°€ μ €ν•λλ” λ¬Έμ κ°€ λ°μƒν–μµλ‹λ‹¤.

**2. λ°μ΄ν„° νμΉ­μ λ³µμ΅μ„±**

κΈ°μ΅΄ κµ¬μ΅°μ—μ„λ” μ»΄ν¬λ„νΈ β†’ API λΌμ°νΈ β†’ λ°μ΄ν„°λ² μ΄μ¤λΌλ” λ³µμ΅ν• κ²½λ΅λ¥Ό κ±°μ³μ•Ό ν–μµλ‹λ‹¤. λ‹¨μν• λ°μ΄ν„° μ΅°νλ¥Ό μ„ν•΄μ„λ„ API μ—”λ“ν¬μΈνΈ μƒμ„±, fetch νΈμ¶, λ΅λ”© μƒνƒ κ΄€λ¦¬ λ“±μ κ³Όμ •μ΄ ν•„μ”ν–μµλ‹λ‹¤.

**3. λ³΄μ• λ¬Έμ **

ν΄λΌμ΄μ–ΈνΈμ—μ„ μ‹¤ν–‰λλ” λ¨λ“  μ½”λ“λ” λΈλΌμ°μ €μ—μ„ ν™•μΈν•  μ μμµλ‹λ‹¤. API ν‚¤λ‚ μ¤‘μ”ν• λΉ„μ¦λ‹μ¤ λ΅μ§μ„ λ³΄νΈν•λ ¤λ©΄ λ³„λ„μ μ„λ²„ κµ¬μ΅°κ°€ ν•„μ”ν–κ³ , μ΄λ” μ „μ²΄ μ•„ν‚¤ν…μ²λ¥Ό λ³µμ΅ν•κ² λ§λ“¤μ—μµλ‹λ‹¤.

RSCλ” μ΄λ¬ν• λ¬Έμ λ“¤μ„ ν•΄κ²°ν•κΈ° μ„ν•΄ "ν•„μ”ν• λ¶€λ¶„λ§ ν΄λΌμ΄μ–ΈνΈλ΅ μ „μ†΅ν•μ"λ” κ°λ…μ—μ„ μ¶λ°ν–μµλ‹λ‹¤.

## ν•™μµ μ •λ¦¬

**RSCμ ν•µμ‹¬ κ°λ…:**
1. **μ„λ²„μ—μ„ μ‹¤ν–‰λλ” React μ»΄ν¬λ„νΈ**
2. **RSC PayloadλΌλ” JSONμ„ λΈλΌμ°μ €μ— μ „μ†΅**
3. **μ„λ²„ μ»΄ν¬λ„νΈ μ½”λ“λ” λΈλΌμ°μ €μ— μ „μ†΅λμ§€ μ•μ**

**SSRκ³Όμ μ°¨μ΄μ :**
- SSR: HTML λ¬Έμμ—΄ μƒμ„± β†’ λΈλΌμ°μ €μ—μ„ hydration
- RSC: JSON μƒμ„± β†’ λΈλΌμ°μ €μ—μ„ Virtual DOM κµ¬μ„±

**μ£Όμ” μ¥μ :**
- λ¬΄κ±°μ΄ λΌμ΄λΈλ¬λ¦¬ μ‚¬μ© μ‹μ—λ„ ν΄λΌμ΄μ–ΈνΈ λ²λ“¤ ν¬κΈ° μ¦κ°€ μ—†μ
- νμ΄μ§€ λ΅λ“μ™€ λ™μ‹μ— λ°μ΄ν„°κ°€ ν™”λ©΄μ— ν‘μ‹λ¨
- λ―Όκ°ν• μ •λ³΄μ ν΄λΌμ΄μ–ΈνΈ λ…Έμ¶ λ°©μ§€
- API λΌμ°νΈ μ—†μ΄ μ»΄ν¬λ„νΈμ—μ„ μ§μ ‘ λ°μ΄ν„° μ ‘κ·Ό κ°€λ¥

**κ°λ° κ²½ν— κ°μ„ :**
RSC λ„μ…μΌλ΅ κ°λ° κ³Όμ •μ΄ ν¬κ² λ‹¨μν™”λμ—μµλ‹λ‹¤. κΈ°μ΅΄μ—λ” μ‚¬μ©μ ν”„λ΅ν•„ νμ΄μ§€ ν•λ‚λ¥Ό λ§λ“¤κΈ° μ„ν•΄ API λΌμ°νΈ μƒμ„±, ν΄λΌμ΄μ–ΈνΈ fetch νΈμ¶, λ΅λ”© μƒνƒ μ²λ¦¬ λ“±μ λ³µμ΅ν• κ³Όμ •μ΄ ν•„μ”ν–μ§€λ§, RSCμ—μ„λ” μ»΄ν¬λ„νΈμ—μ„ μ§μ ‘μ μΈ λ°μ΄ν„° μ ‘κ·Όμ΄ κ°€λ¥ν•©λ‹λ‹¤.

Next.js 13+ App Routerμ—μ„λ” RSCκ°€ κΈ°λ³Έ μ„¤μ •μΌλ΅ μ κ³µλμ–΄ μ¶”κ°€ κµ¬μ„± μ—†μ΄ λ°”λ΅ ν™μ©ν•  μ μμµλ‹λ‹¤.

---

### μ°Έκ³  μλ£

- [RSC From Scratch - Dan Abramov](https://github.com/reactwg/server-components/discussions/5)
- [Next.js Server Components](https://nextjs.org/docs/app/building-your-application/rendering/server-components)
- [React Server Components - React κ³µμ‹ λ¬Έμ„](https://react.dev/reference/rsc/server-components)
